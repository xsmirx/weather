(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{126:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);n(0);var r,a,c,i,o,s=n(41),u=n.n(s),d=(n(125),n(126),n.p+"static/media/bg3.b32faba5.jpg"),l=n(194),b=n(27),j="appReducer/SET_LOADING",p="appReducer/SET_ERROR",h="appReducer/SET_VISIBLE_ERROR",O="appReducer/DEL_ERROR",x=function(e){return{type:j,isLoading:e}},g=function(e){return{type:p,error:e}},f=n(180),m=n(174),w=n(179),v=n(184),y=n(1),E=function(e){var t=e.isVisible,n=e.errorName,r=e.errorMessage,a=e.onClose;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(f.a,{open:t,TransitionComponent:m.a,TransitionProps:{direction:"up"},children:Object(y.jsxs)(w.a,{variant:"standard",severity:"error",onClose:function(){a()},children:[Object(y.jsx)(v.a,{children:n}),r]})},"up")})},k=Object(b.b)((function(e){return{isVisible:e.app.error.isVisible,errorName:e.app.error.name,errorMessage:e.app.error.message}}),(function(e){return{onClose:function(){e({type:h,isVisible:!1}),setTimeout((function(){return e({type:O})}),300)}}}))(E),C=n(17),L=n(186),R=n(42),S=R.a.div(r||(r=Object(C.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n"]))),_=function(e){var t=e.isLoading;return Object(y.jsx)(S,{children:t&&Object(y.jsx)(L.a,{})})},T=Object(b.b)((function(e){return{isLoading:e.app.isLoading}}),null)(_),N=n(187),W=n(188),P=n(185),V=n(195),I=R.a.div(a||(a=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  align-items: baseline;\n  img {\n    height: 80px;\n  }\n"]))),A=function(e){e.isLoading;var t=e.weather;return Object(y.jsx)(V.a,{maxWidth:"444px",sx:{margin:"16px 0 0 0"},children:t&&Object(y.jsx)(N.a,{variant:"elevation",elevation:5,sx:{backdropFilter:"blur(4px)",background:"rgba(255, 255, 255, 0.25)"},children:Object(y.jsxs)(W.a,{children:[Object(y.jsxs)(P.a,{variant:"h4",children:[t.name,", ",t.sys.country]}),Object(y.jsxs)(I,{children:[Object(y.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@4x.png"),alt:"weather icon"}),Object(y.jsx)(P.a,{variant:"h2",children:"".concat(Math.round(10*t.main.temp)/10,"\xb0C")})]}),Object(y.jsxs)(V.a,{children:[Object(y.jsx)(P.a,{variant:"body2",children:"Feels like: ".concat(Math.round(t.main.feels_like),"\xb0C")}),Object(y.jsx)(P.a,{variant:"body2",children:"Clouds: ".concat(t.weather[0].description)}),Object(y.jsx)(P.a,{variant:"body2",children:"Wind: ".concat(t.wind.speed,"m/s")})]})]})})})},F=Object(b.b)((function(e){return{isLoading:e.weather.weatherCard.isLoading,weather:e.weather.weatherCard.weatherObject}}),null)(A),G=R.a.div(c||(c=Object(C.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: -100;\n\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n"])),(function(e){return e.image})),M=n(192),D=n(193),U=n(106),z=n.n(U),B=n(183),q="weatherSaga/FIND_PLACES",H="weatherSaga/GET_USER_WEATHER",J=function(){return{type:H}},X=Object(b.b)(null,(function(e){return{getUserWeather:function(){return e(J())}}}))((function(e){var t=e.getUserWeather;return Object(y.jsx)(B.a,{"aria-label":"Weather on my location",title:"Weather on my location",sx:{marginLeft:"16px"},onClick:function(){return t()},children:Object(y.jsx)(z.a,{})})})),K=n(9),Q=n(178),Y=n(109),Z=n.n(Y),$=n(8),ee=n(173),te=n(112),ne="weatherReducer/SET_WEATHER",re="weatherReducer/SET_PLACES",ae=function(e){return{type:ne,payload:e}},ce=n(189),ie=n(190),oe=n(191),se=R.a.div(i||(i=Object(C.a)(["\n  position: fixed;\n  z-index: 100;\n  width: 35%;\n  padding: 0 17px 0 0;\n  margin-top: 3px;\n  color: rgba(0, 0, 0, 0.75);\n  @media (max-width: 600px) {\n    width: 100%;\n    padding-right: 32px;\n  }\n"]))),ue={width:"100%",bgcolor:"background.paper"},de=function(e){var t=e.list,n=e.setWeather,r=t.map((function(e){return Object(y.jsxs)(ce.a,{onClick:function(){return n(e)},children:[Object(y.jsx)(ie.a,{primary:"".concat(e.name,", ").concat(e.sys.country)}),Object(y.jsx)(ie.a,{sx:{textAlign:"end"},children:Object(y.jsx)(P.a,{variant:"caption",children:"Lat: ".concat(e.coord.lat,", Lon: ").concat(e.coord.lon)})})]},e.id)}));return Object(y.jsx)(y.Fragment,{children:!!t.length&&Object(y.jsx)(se,{children:Object(y.jsx)(oe.a,{sx:ue,children:r})})})},le=Object(b.b)((function(e){return{list:e.weather.listPlaces}}),(function(e){return{setWeather:function(t){return e(ae(t))}}}))(de),be=Object($.a)("form")(o||(o=Object(C.a)(["\n  width: 35%;\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n"]))),je=Object($.a)("div")((function(e){var t=e.theme;return Object(K.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(ee.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(ee.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{width:"auto"})})),pe=Object($.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),he=Object($.a)(Q.a)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":Object(K.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}})),Oe=function(e){var t=e.getPlaces,n=Object(te.a)({initialValues:{placeName:""},onSubmit:function(e){t(e.placeName)}});return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(be,{onSubmit:n.handleSubmit,children:[Object(y.jsxs)(je,{children:[Object(y.jsx)(pe,{children:Object(y.jsx)(Z.a,{})}),Object(y.jsx)(he,{id:"placeName",name:"placeName",onChange:n.handleChange,value:n.values.placeName,placeholder:"Search of place\u2026",inputProps:{"aria-label":"search"}})]}),Object(y.jsx)(le,{})]})})},xe=Object(b.b)(null,(function(e){return{getPlaces:function(t){return e(function(e){return{type:q,placeName:e}}(t))}}}))(Oe);function ge(){return Object(y.jsx)(M.a,{position:"static",children:Object(y.jsxs)(D.a,{children:[Object(y.jsx)(P.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:"1",display:{xs:"none",sm:"block"}},children:"Weather App"}),Object(y.jsx)(xe,{}),Object(y.jsx)(X,{})]})})}var fe=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(G,{image:d}),Object(y.jsx)(T,{}),Object(y.jsx)(k,{}),Object(y.jsx)(ge,{}),Object(y.jsx)(l.a,{maxWidth:"xs",children:Object(y.jsx)(F,{})})]})},me=n(44),we=n(114),ve=n(16),ye={isLoading:!1,error:{name:null,message:null,isVisible:!1}},Ee="geoReducer/SET_GEOLOCATION",ke={latitude:null,longitude:null},Ce={weatherCard:{isLoading:!1,weatherObject:null},listPlaces:[]},Le=Object(me.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(ve.a)(Object(ve.a)({},e),{},{isLoading:t.isLoading});case p:return Object(ve.a)(Object(ve.a)({},e),{},{error:Object(ve.a)(Object(ve.a)({},e.error),{},{name:t.error.name,message:t.error.message,isVisible:!0})});case h:return Object(ve.a)(Object(ve.a)({},e),{},{error:Object(ve.a)(Object(ve.a)({},e.error),{},{isVisible:t.isVisible})});case O:return Object(ve.a)(Object(ve.a)({},e),{},{error:Object(ve.a)(Object(ve.a)({},e.error),{},{name:null,message:null,isVisible:!1})});default:return e}},geo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(ve.a)(Object(ve.a)({},e),{},{latitude:t.latitude,longitude:t.longitude});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(ve.a)(Object(ve.a)({},e),{},{listPlaces:[],weatherCard:Object(ve.a)(Object(ve.a)({},e.weatherCard),{},{weatherObject:Object(ve.a)({},t.payload)})});case re:return Object(ve.a)(Object(ve.a)({},e),{},{listPlaces:t.payload.list});default:return e}}}),Re=n(25),Se=n.n(Re),_e=n(84),Te=n(21),Ne=Se.a.mark(Pe),We=Se.a.mark(Ve);function Pe(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.b)(Ve);case 2:case"end":return e.stop()}}),Ne)}function Ve(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var t,n;tt.dispatch((t=e.coords.latitude,n=e.coords.longitude,{type:Ee,latitude:t,longitude:n})),tt.dispatch(J())}));case 2:case"end":return e.stop()}}),We)}var Ie=n(69),Ae=Object(Ie.create)({baseURL:"https://api.openweathermap.org/data/2.5/",params:{appid:"126fad45ab3e35a9cdeb368c5606d982",units:"metric"}}),Fe=function(e){return Ae.get("find?q=".concat(e)).then((function(e){return e.data}))},Ge=function(e,t){return Ae.get("weather?lat=".concat(e,"&lon=").concat(t)).then((function(e){return e.data}))},Me=n(110),De=n(111),Ue=n(113),ze=n(115),Be=function(e){Object(De.a)(n,e);var t=Object(Ue.a)(n);function n(e){var r;return Object(Me.a)(this,n),(r=t.call(this,e)).name="Geolocation Error",r.message=e||"Geolocation data not found",r}return n}(Object(ze.a)(Error)),qe=Se.a.mark(Xe),He=Se.a.mark(Ke),Je=Se.a.mark(Qe);function Xe(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.f)(H,Ke);case 2:return e.next=4,Object(Te.f)(q,Qe);case 4:case"end":return e.stop()}}),qe)}function Ke(){var e,t,n;return Se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Te.c)(x(!0));case 3:return r.next=5,Object(Te.d)((function(e){return e.geo.latitude}));case 5:return e=r.sent,r.next=8,Object(Te.d)((function(e){return e.geo.longitude}));case 8:if(t=r.sent,e&&t){r.next=11;break}throw new Be("Requires permission to use geolocation");case 11:return r.next=13,Object(Te.a)(Ge,e,t);case 13:return n=r.sent,r.next=16,Object(Te.c)(ae(n));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(Te.c)(g(r.t0));case 22:return r.prev=22,r.next=25,Object(Te.c)(x(!1));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),He,null,[[0,18,22,26]])}function Qe(e){var t,n;return Se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.placeName,r.prev=1,r.next=4,Object(Te.c)(x(!0));case 4:return r.next=6,Object(Te.a)(Fe,t);case 6:return n=r.sent,r.next=9,Object(Te.c)({type:re,payload:n});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(Te.c)(g(r.t0));case 15:return r.prev=15,r.next=18,Object(Te.c)(x(!1));case 18:return r.finish(15);case 19:case"end":return r.stop()}}),Je,null,[[1,11,15,19]])}var Ye=Se.a.mark(Ze);function Ze(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.a)(Pe);case 2:return e.next=4,Object(_e.a)(Xe);case 4:case"end":return e.stop()}}),Ye)}var $e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.c,et=Object(we.a)(),tt=Object(me.d)(Le,$e(Object(me.a)(et)));et.run(Ze),u.a.render(Object(y.jsx)(b.a,{store:tt,children:Object(y.jsx)(fe,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.a9a840c8.chunk.js.map